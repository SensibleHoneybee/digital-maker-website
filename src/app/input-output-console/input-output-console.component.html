<div class="d-flex flex-column h-100 px-1">
    <div class="d-flex flex-row h-100" *ngIf="currentInstance">
        <div class="h-100 w-100 mb-1">
          <div class="card shadow h-50">
            <div class="d-flex card-header px-2 px-md-3 py-2 py-md-3 flex-row align-items-center justify-content-between">
              <h6 class="m-0 font-weight-bold text-primary">Inputs</h6>
            </div>
            <div class="flex-row d-flex flex-wrap">
              <button [ngClass]="{'btn-primary': currentInputTab == 0, 'btn-info': currentInputTab != 0}" class="mr-1 mt-1" (click)="currentInputTab = 0">Button</button>
              <button [ngClass]="{'btn-primary': currentInputTab == 1, 'btn-info': currentInputTab != 1}" class="mr-1 mt-1" (click)="currentInputTab = 1">Text input</button>
              <button [ngClass]="{'btn-primary': currentInputTab == 3, 'btn-info': currentInputTab != 3}" class="mr-1 mt-1" (click)="currentInputTab = 2">Game controller</button>
            </div>
            <div class="h-100">
                <div class="h-100" *ngIf="currentInputTab == 0">
                    <div class="d-flex h-25"></div>
                    <div class="d-flex h-50">
                        <div class="w-25 h-100 p-1"></div>
                        <div class="w-50 h-100 p-1">
                            <button class="w-100 h-100 btn btn-info" (click)="inputButtonClicked()"><h3>Click me!</h3></button>
                        </div>
                        <div class="w-25 h-100 p-1"></div>
                    </div>
                    <div class="d-flex h-25"></div>
                </div>
                <div class="h-100" *ngIf="currentInputTab == 1">
                  Text input
                </div>
                <div class="h-100" *ngIf="currentInputTab == 2">
                  <div class="d-flex h-50">
                      <div class="w-50 h-100 p-1">
                          <button class="w-100 h-100 btn btn-danger" (click)="gameControllerButtonClicked('red')"></button>
                      </div>
                      <div class="w-50 h-100 p-1">
                          <button class="w-100 h-100 btn btn-warning" (click)="gameControllerButtonClicked('yellow')"></button>
                      </div>
                  </div>
                  <div class="d-flex h-50">
                      <div class="w-50 h-100 p-1">
                          <button class="w-100 h-100 btn btn-success" (click)="gameControllerButtonClicked('green')"></button>
                      </div>
                      <div class="w-50 h-100 p-1">
                          <button class="w-100 h-100 btn btn-primary" (click)="gameControllerButtonClicked('blue')"></button>
                      </div>
                  </div>
                </div>
            </div>
          </div>
          <div class="card shadow h-50">
            <div class="d-flex card-header px-2 px-md-3 py-2 py-md-3 flex-row align-items-center justify-content-between">
              <h6 class="m-0 font-weight-bold text-primary">Outputs</h6>
            </div>
            <div class="flex-row d-flex flex-wrap">
              <button [ngClass]="{'btn-primary': currentOutputTab == 0, 'btn-info': currentOutputTab != 0}" class="mr-1 mt-1" (click)="currentOutputTab = 0">Text</button>
              <button [ngClass]="{'btn-primary': currentOutputTab == 1, 'btn-info': currentOutputTab != 1}" class="mr-1 mt-1" (click)="currentOutputTab = 1">Spider</button>
            </div>
            <div class="h-100">
                <div class="h-100" *ngIf="currentOutputTab == 0">
                  <p class="h4 m-1">{{currentConsoleOutputText}}</p>
                </div>
                <div class="h-100" *ngIf="currentOutputTab == 1">
                  <div class="spider-position" [style.top]="spiderTop + '%'" [style.left]="spiderLeft + '%'">
                    <p class="h1 m-auto">üï∑Ô∏è</p>
                  </div>
                </div>
            </div>
          </div>
        </div>
    </div>
    <div class="d-flex flex-row h-100" *ngIf="instanceDoesNotExist">
      <div class="h-100 w-100 mb-1">
        <div class="card shadow h-100">
          <div class="d-flex card-header px-2 px-md-3 py-2 py-md-3 flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Need to run Digital Maker on laptop first</h6>
          </div>
          <div class="m-2">
            <p>The instance you are connecting to has not been cretated yet.</p>
            <p>Before you load the Digital Maker on your smartphone, you must go to your laptop and open the "Write Code" page.</p>
            <p>Please contact your Scout leader if you don't know what to do next<br/><span style="font-size: 36pt;">‚ò∫</span></p>
            <p></p>
            <p>Once you have loaded Digital Maker on your laptop, refresh your browser to reload this console.</p>
          </div>
    </div>
  </div>
  <ng-template #modalDialog let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">{{dialogTitle}}</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"><span aria-hidden="true" class="close-x">&times;</span></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="modalForm" class="form">
          <div class="mb-3">
            <label for="inputText">{{dialogLabel}}</label>
            <div class="input-group">
              <input formControlName="inputText" type="text" id="input-value" class="form-control">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
      </div>
  </ng-template>
  <ng-template #modalLoading let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Loading, please wait...</h4>
    </div>
    <div class="modal-body">
      <img *ngIf="loading" class="pl-3" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </div>
  </ng-template>